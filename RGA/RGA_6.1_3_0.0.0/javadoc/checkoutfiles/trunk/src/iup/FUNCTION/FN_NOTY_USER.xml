<?xml version="1.0" encoding="UTF-8"?><FUNCTION_SPEC xmlns="http://www.metricstream.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.metricstream.com ms_application_schema.xsd">
<!--$Revision: 1.30.2.12.2.2.2.9.2.8 $-->
<!--$Author: prao $-->
<PLATFORM_DETAILS>
<PLATFORM_VERSION>6.0</PLATFORM_VERSION>
<BUILD_VERSION>4.11.0</BUILD_VERSION>
</PLATFORM_DETAILS>
<STORED_PROCEDURE_NAME>FN_NOTY_USER</STORED_PROCEDURE_NAME>
<OBJECT_ID>FN_NOTY_USER</OBJECT_ID>
<OBJECT_TYPE>FUNCTION</OBJECT_TYPE>
<TEXT>FUNCTION fn_noty_user(
                                        
                                        i_channel_id VARCHAR,
                                        i_user_id    IN NUMBER)
  RETURN VARCHAR2 IS
  x_notify_by_email     VARCHAR2(100);
  x_notify_by_email_val VARCHAR2(100);
BEGIN
  --This statement returns  the user id for the user name.
  SELECT notify_by_email
    INTO x_notify_by_email
    FROM MS_RGA_SUBS_CHANNEL_CHN
   WHERE CHANNEL_NAME = i_channel_id
   AND status = 1
     AND ms_apps_utilities.get_user_id(chn_created_by) = i_user_id; -- AND ROWNUM = 1;

  select DECODE(x_notify_by_email, 0, 'No', 1, 'Yes')
    into x_notify_by_email_val
    from dual;

  RETURN x_notify_by_email_val; --x_notify_by_email;
EXCEPTION
  WHEN OTHERS THEN
    RETURN NULL;
END;
 </TEXT>
</FUNCTION_SPEC>
