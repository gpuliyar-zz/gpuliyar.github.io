<?xml version="1.0" encoding="UTF-8"?><VIEWS_SPEC xmlns="http://www.metricstream.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.metricstream.com ms_application_schema.xsd">
<!--$Revision: 1.30.2.12.2.2.2.9.2.8 $-->
<!--$Author: prao $-->
<PLATFORM_DETAILS>
<PLATFORM_VERSION>6.1</PLATFORM_VERSION>
<BUILD_VERSION>4.1.1.0</BUILD_VERSION>
</PLATFORM_DETAILS>
<VIEW_NAME>MS_RGA_SUBS_OVERVIEW_V</VIEW_NAME>
<OBJECT_ID>MS_RGA_SUBS_OVERVIEW_V</OBJECT_ID>
<VIEW_TEXT>("CHANNEL_NAME","CREATED_BY","ISSUES_RAISED","ISSUES_OPEN","ISSUES_CLOSED","ISSUES_CANCELED") AS SELECT CHANNEL_NAME_GRCI AS CHANNEL_NAME,
    T.issue_created_by     AS CREATED_BY,
    --T3.CHN_CREATED_BY AS CREATED_BY,
    (
    CASE
      WHEN SUM(ISSUES_RAISED) = 0
      THEN '0'
      ELSE ms_rga_rpt_utils.build_report_url('GRCI', 'MS_RGA_ISSUE_LIST', NULL, NULL, SUM(ISSUES_RAISED), CHANNEL_NAME_GRCI, NULL, NULL)
    END) AS ISSUES_RAISED,
    (
    CASE
      WHEN SUM(ISSUES_OPEN) = 0
      THEN '0'
      ELSE ms_rga_rpt_utils.build_report_url('GRCI', 'MS_RGA_ISSUE_LIST', NULL, NULL, SUM(ISSUES_OPEN), CHANNEL_NAME_GRCI, 'Reopened,Open,New,Pending Review,Pending Approval,Action Plan Implementation,Remediated,Pending Final Approval,Action Plan Developed', NULL)
    END) AS ISSUES_OPEN,
    (
    CASE
      WHEN SUM(ISSUES_CLOSED) = 0
      THEN '0'
      ELSE ms_rga_rpt_utils.build_report_url('GRCI', 'MS_RGA_ISSUE_LIST', NULL, NULL, SUM(ISSUES_CLOSED), CHANNEL_NAME_GRCI, 'Closed', NULL)
    END) AS ISSUES_CLOSED,
    (
    CASE
      WHEN SUM(ISSUES_CANCELED) = 0
      THEN '0'
      ELSE ms_rga_rpt_utils.build_report_url('GRCI', 'MS_RGA_ISSUE_LIST', NULL, NULL, SUM(ISSUES_CANCELED), CHANNEL_NAME_GRCI, 'Issue Cancelled', NULL)
    END) AS ISSUES_CANCELLED
  FROM
    (SELECT CHANNEL_NAME_GRCI,
      issue_created_by,
      SUM(TOTAL) AS ISSUES_RAISED,
      NVL(
      CASE
        WHEN ISSUE_STATUS ='Open'
        THEN SUM(TOTAL)
      END,0) AS ISSUES_OPEN,
      NVL(
      CASE
        WHEN ISSUE_STATUS ='Closed'
        THEN SUM(TOTAL)
      END,0) AS ISSUES_CLOSED,
      NVL(
      CASE
        WHEN ISSUE_STATUS ='Issue Cancelled'
        THEN SUM(TOTAL)
      END,0) AS ISSUES_CANCELED
    FROM
      (SELECT CHANNEL_NAME_GRCI,
        issue_created_by,
        CASE
          WHEN ISSUE_STATUS IN('Open','Pending Final Approval','Reopened','New','Pending Review','Pending Approval','Action Plan Implementation','Remediated','Action Plan Developed')
          THEN 'Open'
          ELSE ISSUE_STATUS
        END      AS ISSUE_STATUS,
        COUNT(*) AS TOTAL
      FROM ms_rga_issue_report
      GROUP BY CHANNEL_NAME_GRCI,
        issue_created_by,
        ISSUE_STATUS
      )
    GROUP BY CHANNEL_NAME_GRCI,
      issue_created_by,
      ISSUE_STATUS
    ) T,
    MS_RGA_CHANNEL_DTLS T1 ,
    MS_RGA_SUBS_CHANNEL_CHN T3
  WHERE T3.CHANNEL_NAME=T1.OBJECT_ID
  AND issue_created_by = T3.CHN_CREATED_BY
    --AND T3.SUBSCRIPTION_STATUS IS NOT NULL AND T3.CHN_CREATED_BY='SYSTEMI'
  AND TRIM(T.CHANNEL_NAME_GRCI)=TRIM(T1.CHANNEL_NAME)
  GROUP BY CHANNEL_NAME_GRCI,
    issue_created_by</VIEW_TEXT>
</VIEWS_SPEC>
