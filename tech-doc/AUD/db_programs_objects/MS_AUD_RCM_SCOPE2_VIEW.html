<!DOCTYPE html>
<html lang="en" class="doctool-7">
       <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>MS_AUD_ADVISOR_UTILITIES</title>

        <!-- Bootstrap Core CSS -->
        <link href="../../template_files/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- MetisMenu CSS -->
        <link href="../../template_files/bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

        <!-- DataTables CSS -->
        <link href="../../template_files/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet">

        <!-- DataTables Responsive CSS -->
        <link href="../../template_files/bower_components/datatables-responsive/css/dataTables.responsive.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="../../template_files/dist/css/sb-admin-2.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="../../template_files/bower_components/fontawesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../../template_files/dist/css/jquery.mCustomScrollbar.css">
        <link href="../../template_files/dist/css/style.css" rel="stylesheet">
        <script src="../../template_files/js/jquery-1.11.1.min.js"></script>
        <script src="../../template_files/dist/js/selectAllJavaScript.js"></script>
        <style>
            html, body{ height: 100%; }
        </style>
    </head>

    <body>
	<div class="se-pre-con"></div>
        <div id="wrapper">
            <div id="page-wrapper">
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-D7">
                            <div class="panel-heading">
                                <h4><span class="icn icn-dc-grid" style="margin-right:10px"></span>  <span class="headerAlign" id="MS_AUD_RCM_SCOPE2_VIEW">MS_AUD_RCM_SCOPE2_VIEW</span> </h4>
                            </div>
                            <div class="panel-body">
                                <div class="dataTable_wrapper">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="btn btn-primary" onclick="SelectText('selectme')">Select All</button>
                                            </div>
                                            <div class="modal-body" >
                                                <pre id="selectme">
  CREATE OR REPLACE FORCE VIEW "MS_AUD_RCM_SCOPE2_VIEW" ("KEY_CONTROL", "TESTING_REQUIRED", "SAMPLE_SIZE", "SAMPLES_TESTED", "SAMPLES_PASSED", "SAMPLES_FAILED", "DSGN_EFFECTIVENESS", "OPER_EFFECTIVENESS", "JUSTIFICATION", "RESPONSE", "TST_WORK_DONE", "RESULTS", "CONTROL_ID_SUB", "CTRL_DESC_SUB", "CONTROL_NAME_SUB", "TEST_ID_SUB", "TST_DESC_SUB", "TEST_STEP_SUB", "WORKPAPER", "WORKPAPER_STATUS", "WORKPAPER_ID", "SUB_AUDIT_ID", "RISK_ID_SUB", "RISK_NAME_SUB", "RISK_DESC_SUB", "ORGANIZATION_ID_SUB") AS 
  SELECT CTL_TST.KEY_CONTROL as KEY_CONTROL,
  CTL_TST.TESTING_REQUIRED as TESTING_REQUIRED,
  CTL_TST.SAMPLE_SIZE as SAMPLE_SIZE,
  CTL_TST.SAMPLES_TESTED as SAMPLES_TESTED,
  CTL_TST.SAMPLES_PASSED as SAMPLES_PASSED,
  CTL_TST.SAMPLES_FAILED as SAMPLES_FAILED,
  CTL_TST.DSGN_EFFECTIVENESS as DSGN_EFFECTIVENESS,
  CTL_TST.OPER_EFFECTIVENESS as OPER_EFFECTIVENESS,
  CTL_TST.JUSTIFICATION as JUSTIFICATION,
  CTL_TST.RESPONSE as RESPONSE,
  CTL_TST.TST_WORK_DONE as TST_WORK_DONE,
  CTL_TST.RESULTS as RESULTS,
  CTL_TST.CONTROL_ID_SUB as CONTROL_ID_SUB,
  regexp_replace(CTL_TST.CTRL_DESC_SUB,'<[^>]+>|\&(nbsp;)|(amp;)', ' ') as CTRL_DESC_SUB,
  CTL_TST.CONTROL_NAME_SUB as CONTROL_NAME_SUB,
  CTL_TST.TEST_ID_SUB as TEST_ID_SUB,
  regexp_replace(CTL_TST.TST_DESC_SUB,'<[^>]+>|\&(nbsp;)|(amp;)', ' ') as TST_DESC_SUB,
  CTL_TST.TEST_STEP_SUB as TEST_STEP_SUB,
  mt.task_name                                         AS workpaper,
  mt.status                                            AS workpaper_status,
  mt.task_id                                           AS workpaper_id,
  mt.audit_id                                          AS sub_audit_id,
  SUBSTR(rrr.rs_risk_id,1,instr(rrr.rs_risk_id,'~')    -1) AS risk_id_sub,
  SUBSTR(rrr.RS_RISK_NAME,1,instr(rrr.RS_RISK_NAME,'~')-1) AS risk_name_sub,
  rrr.RS_RISK_DESCRIPTION                                  AS risk_desc_sub,
  ogz.OZ_ORGANIZATION                                  AS organization_id_sub
  FROM ms_aud_audit_task mt,
	ms_aud_ctrl_test_task_ogz ogz,
	ms_aud_ctrl_test_task_rrr rrr,
	(SELECT ctl.ct_key_control AS key_control,
		ctl.testing_req AS testing_required,
		ctl.ct_expected_samples_size AS sample_size,
		ctl.ct_sample_tested AS samples_tested,
		ctl.ct_sample_passed AS samples_passed,
		ctl.ct_sample_failed AS samples_failed,
		ctl.ct_design_effectiveness AS dsgn_effectiveness,
		ctl.ct_operating_effectiveness AS oper_effectiveness,
		regexp_replace(ctl.ct_justification, '<[^>]+>|\&(nbsp;)|(amp;)', ' ') AS justification,
		coalesce(to_char(tst.TS_RESPONSE_NUMBER),to_char(decode(tst.TS_RESPONSE_YES_NO,'1','Yes','2','No')),
			to_char(tst.TS_RESPONSE_DATE),to_char(tst.ts_response_lov),to_char(tst.TS_RESPONSE_TEXT),to_char(tst.TS_RESPONSE_AMOUNT))  AS response,
		regexp_replace(tst.ts_work_done, '<[^>]+>|\&(nbsp;)|(amp;)', ' ') AS tst_work_done,
		regexp_replace(tst.ts_outcome_results, '<[^>]+>|\&(nbsp;)|(amp;)', ' ') AS results,
		ctl.ct_control_id AS control_id_sub,
		ctl.CT_DESCRIPTION AS ctrl_desc_sub ,
		ctl.CT_NAME AS control_name_sub,
		tst.ts_test_id AS test_id_sub,
		tst.TS_DESCRIPTION AS tst_desc_sub,
		tst.TS_NAME AS test_step_sub,
		ctl.ct_rs_id AS ct_rs_id,
		ctl.task_id AS task_id
	FROM ms_aud_ctrl_test_task_ctl ctl,
		ms_aud_ctrl_test_task_tst tst
	WHERE
		ctl.ct_id =tst.ts_ct_id (+)
	)CTL_TST
WHERE mt.task_id=ogz.task_id
AND mt.task_id  =CTL_TST.task_id
AND rrr.rs_id   =CTL_TST.ct_rs_id
AND ogz.OZ_ID   =rrr.RS_OZ_ID
AND mt.task_type='4'</pre>
                                            </div>
                                        </div>
                                        <!-- /.modal-content -->
                                    </div>
                                    <!-- /.modal-dialog -->
                                </div>
                                <!-- /.table-wrapper -->
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel-info -->
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /row -->
            </div>
            <!-- /page wrapper -->
        </div>
        <!-- /.wrapper-->

                <!-- jQuery -->
        <script src="../../template_files/js/jquery-1.11.1.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.js"></script>
        <!-- Bootstrap Core JavaScript -->
        <script src="../../template_files/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

        <!-- Metis Menu Plugin JavaScript -->
        <script src="../../template_files/bower_components/metisMenu/dist/metisMenu.min.js"></script>

        <!-- DataTables JavaScript -->
        <script src="../../template_files/bower_components/DataTables/media/js/jquery.dataTables.min.js"></script>
        <script src="../../template_files/bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="../../template_files/dist/js/sb-admin-2.js"></script>

        <!-- Custom JS scripts for search capbility -->
        <script type="text/javascript" src="../../template_files/dist/js/searchsidemenujavascript.js"></script>

        <!-- Custom JS scripts for easy scrollbar -->
        <script src="../../template_files/dist/js/jquery.mCustomScrollbar.concat.min.js"></script>
		
       

        <script>
            $(document).ready(function() {
                
            });
            $('#sciptModal').on('shown.bs.modal', function () {
                $("body").mCustomScrollbar("disable");
            });
            $('#sciptModal').on('hidden.bs.modal', function () {
                $("body").mCustomScrollbar("update");
            });
                        (function($){
                         function scrollBody(){
                        var referrer = document.URL;
                        var res = referrer.split("#");
                        var hashAddress="#"+res[1];
                        $("body").mCustomScrollbar('scrollTo',$("body").find(hashAddress));  
                        };
                $(window).load(function(){
					
             
                
                $("body").mCustomScrollbar({
                    theme:"minimal",
                    mouseWheel:{ scrollAmount: "230px" }
                });
                scrollBody();
				$(".se-pre-con").fadeOut("slow");
			  
            });
            
            $(window).on('hashchange', function(e){
                 scrollBody();
            });
			 
            })(jQuery);
        </script>
    </body>

</html>
