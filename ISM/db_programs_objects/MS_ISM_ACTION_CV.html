<!DOCTYPE html>
<html lang="en">
       <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>DB Programs and Objects</title>

        <!-- Bootstrap Core CSS -->
        <link href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- MetisMenu CSS -->
        <link href="../../bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

        <!-- DataTables CSS -->
        <link href="../../bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet">

        <!-- DataTables Responsive CSS -->
        <link href="../../bower_components/datatables-responsive/css/dataTables.responsive.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="../../dist/css/sb-admin-2.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="../../bower_components/fontawesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../../dist/css/jquery.mCustomScrollbar.css">
        <link href="../../dist/css/style.css" rel="stylesheet">
        <script src="../../js/jquery-1.11.1.min.js"></script>
        <script src="../../dist/js/selectAllJavaScript.js"></script>
        <style>
            html, body{ height: 100%; }
        </style>
    </head>

    <body>
        <div id="wrapper">
            <div id="page-wrapper">
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h4><span class="fa fa-table fa-fw"></span>  <a style="text-decoration: none; " id="MS_ISM_ACTION_CV">MS_ISM_ACTION_CV</a> </h4>
                            </div>
                            <div class="panel-body">
                                <div class="dataTable_wrapper">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="btn btn-primary" onclick="SelectText('selectme')">Select All</button>
                                            </div>
                                            <div class="modal-body" >
                                                <pre id="selectme">
                                                
  CREATE OR REPLACE FORCE VIEW "ISM_61_SP2_DEV"."MS_ISM_ACTION_CV" ("DOC_ACTION_ID", "FIELD_VALIDATION", "ISSUE_STATUS", "EDITABILITY_JSON", "UPDATE_ACTION", "ACTION_CLOSED_ON", "REOPEN_ACTION", "ACTION_LEGACY_ID", "C_TEXT_5", "C_TEXT_4", "C_TEXT_3", "C_TEXT_2", "C_TEXT_1", "C_RTF_2", "C_RTF_1", "C_DATE_5", "C_DATE_4", "C_DATE_3", "C_DATE_2", "C_DATE_1", "DELEGATED", "ACTION_LOGIN", "INDEPENDENT_ACT", "RESTRICT_ACCESS_TO", "OWNER_ORGANIZATIONS", "CUSTOM_FIELD2", "CUSTOM_FIELD1", "RTF_ATTACH", "ISSUE_PID", "ISSUE_METRIC_ID", "FINAL_ACTION_APPROVED", "ORIG_ACTION_DUE_DT", "CONFIG_FLAG", "CONFIG_FLAG_DUMMY", "ASSIGNEE", "ASSIGN_TO", "DOC_ID", "PREVIOUS_STAGE", "ISSUE_ID", "NO_OF_EXTENSIONS", "DOC_ATTACHMENTS", "ACTION_COMMENTS", "ACTION_PER_COMPLTE", "ACTION_REVIEWER", "ACT_ACTION", "REQUESTED_DUE_DATE", "REMOVE_DELEGATION", "ACTION_DELEGATEE", "ACTION_STATUS", "DELEGATEE_COMMENTS", "DOCUMENT_NAME", "FILE_DESCRIPTION", "ISSUE_APPROVER_ORG", "ISSUE_OWNER_ORG", "ISSUE_TITLE", "ISSUE_SOURCE_TYPE", "ISSUE_SOURCE", "ISSUE_OWNER", "ISSUE_DUE_BY", "ISSUE_DETAILS", "ACTION_WORK_DONE", "ACTION_TITLE", "ACTION_START_DATE", "ACTION_SOURCE_TYPE", "ACTION_SOURCE", "ACTION_RESULTS", "ACTION_PRIORITY", "ACTION_OWNER", "ACTION_ID", "ACTION_DUE_DATE", "ACTION_DETAILS", "ACTION_ATTACHMENT", "ACTION_APPROVER2", "ACTION_APPROVER1", "DD_PROCESS_CODE", "DD_CURRENT_STAGE", "DD_ENTERPRISE_INFO", "DD_EVENT_USER_NAME", "DD_CURRENT_USER_NAME", "DD_OBJECT_TYPE", "INSTANCE_REC_NUM", "INSTANCE_ID", "METRIC_ID", "METRIC_RUN_DATE", "METRIC_COMPLETED_DATE", "LATEST_FLAG", "CREATED_BY", "CREATION_DATE", "PROCESS_FLOW_STATUS", "PROCESS_INSTANCE_ID", "MULTIROW_GROUP_NAME", "ELECTRONICALLY_SIGNED", "MULTIROW_REGION_ID", "ACTION_DETAILS_HTM", "ACTION_RESULTS_HTM", "ACTION_WORK_DONE_HTM", "ISSUE_DETAILS_HTM", "C_RTF_1_HTM", "C_RTF_2_HTM", "ACTION_CATEGORY", "CONFIG_FLAG_SETUP", "LOCALE_ID", "LOCALE_STRING") AS 
  SELECT "DOC_ACTION_ID",
    "FIELD_VALIDATION",
    ms_ism_helper.get_status_display_name(ISSUE_STATUS) AS ISSUE_STATUS,
    "EDITABILITY_JSON",
    "UPDATE_ACTION",
    "ACTION_CLOSED_ON",
    "REOPEN_ACTION",
    "ACTION_LEGACY_ID",
    "C_TEXT_5",
    "C_TEXT_4",
    "C_TEXT_3",
    "C_TEXT_2",
    "C_TEXT_1",
    "C_RTF_2",
    "C_RTF_1",
    "C_DATE_5",
    "C_DATE_4",
    "C_DATE_3",
    "C_DATE_2",
    "C_DATE_1",
    "DELEGATED",
    "ACTION_LOGIN",
    "INDEPENDENT_ACT",
    "RESTRICT_ACCESS_TO",
    ms_apps_utilities.get_enterprise_name (OWNER_ORGANIZATIONS) AS OWNER_ORGANIZATIONS,
    (ms_apps_utilities.get_user_full_name (CUSTOM_FIELD2))      AS CUSTOM_FIELD2,
    (ms_apps_utilities.get_user_full_name (CUSTOM_FIELD1))      AS CUSTOM_FIELD1,
    "RTF_ATTACH",
    "ISSUE_PID",
    "ISSUE_METRIC_ID",
    ms_apps_utilities. get_display_value (100000, 'MS ISM Final Action Approval', FINAL_ACTION_APPROVED, 1, locale_id, NULL) AS FINAL_ACTION_APPROVED,
    "ORIG_ACTION_DUE_DT",
    "CONFIG_FLAG",
    "CONFIG_FLAG_DUMMY",
    (ms_apps_utilities.get_user_full_name (assignee))  AS ASSIGNEE,
    (ms_apps_utilities.get_user_full_name (assign_to)) AS ASSIGN_TO,
    "DOC_ID",
    (SELECT stage_name FROM ms_ism_stages WHERE stage_id = previous_stage
    ) AS PREVIOUS_STAGE,
    "ISSUE_ID",
    "NO_OF_EXTENSIONS",
    "DOC_ATTACHMENTS",
    "ACTION_COMMENTS",
    "ACTION_PER_COMPLTE",
    (Ms_Apps_Utilities.Get_User_Full_Name (Action_Reviewer)) AS Action_Reviewer,
    (SELECT action_name
    FROM Ms_Ism_Actions_Tl_V
    WHERE action_id = ACT_ACTION
    AND locale_id   = loc.locale_id
    ) AS ACT_ACTION,
    "REQUESTED_DUE_DATE",
    "REMOVE_DELEGATION",
    (Ms_Apps_Utilities.Get_User_Full_Name (Action_Delegatee)) AS Action_Delegatee,
    (SELECT status_name
    FROM Ms_Ism_Status_Tl_V
    WHERE status_id = ACTION_STATUS
    AND locale_id   = loc.locale_id
    ) AS ACTION_STATUS,
    "DELEGATEE_COMMENTS",
    "DOCUMENT_NAME",
    "FILE_DESCRIPTION",
    ms_apps_utilities.get_enterprise_name (ISSUE_APPROVER_ORG) AS ISSUE_APPROVER_ORG,
    ms_apps_utilities.get_enterprise_name (ISSUE_OWNER_ORG)    AS ISSUE_OWNER_ORG,
    "ISSUE_TITLE",
    ms_apps_utilities.get_display_value (100000, 'MS ISM Source Type', ISSUE_SOURCE_TYPE, 1, locale_id, NULL) AS ISSUE_SOURCE_TYPE,
    "ISSUE_SOURCE",
    (ms_apps_utilities.get_user_full_name (issue_owner)) AS ISSUE_OWNER,
    "ISSUE_DUE_BY",
	"ISSUE_DETAILS",
    DECODE(Dbms_Lob.Getlength(ACTION_WORK_DONE),0,'',NULL,'',ACTION_WORK_DONE) AS ACTION_WORK_DONE,
    "ACTION_TITLE",
    "ACTION_START_DATE",
    "ACTION_SOURCE_TYPE",
    ms_apps_utilities.get_display_value (100000, 'MS ISM Action Source', ACTION_SOURCE, 1, locale_id, NULL) AS ACTION_SOURCE,
    DECODE(Dbms_Lob.Getlength(ACTION_RESULTS),0,'',NULL,'',ACTION_RESULTS)                          AS ACTION_RESULTS,
    ms_apps_utilities.get_display_value (100000, 'MS ISM Risk Rating', action_priority, 1, locale_id, NULL) AS ACTION_PRIORITY,
    (ms_apps_utilities.get_user_full_name (action_owner))                                                   AS ACTION_OWNER,
    "ACTION_ID",
    "ACTION_DUE_DATE",
	"ACTION_DETAILS",
    "ACTION_ATTACHMENT",
    (ms_apps_utilities.get_user_full_name (action_approver2)) AS ACTION_APPROVER2,
    (ms_apps_utilities.get_user_full_name (action_approver1)) AS ACTION_APPROVER1,
    "DD_PROCESS_CODE",
    ms_ism_helper.Get_Workflow_Stage_Chng_Histr(dd_current_stage,locale_id,multirow_region_id,'',instance_id,metric_id) AS DD_CURRENT_STAGE,
    "DD_ENTERPRISE_INFO",
    (ms_apps_utilities.get_user_full_name (DD_EVENT_USER_NAME))   AS DD_EVENT_USER_NAME,
    (ms_apps_utilities.get_user_full_name (DD_CURRENT_USER_NAME)) AS DD_CURRENT_USER_NAME,
    (SUBSTR (TRIM (dd_object_type), 4, 3))                        AS DD_OBJECT_TYPE,
    "INSTANCE_REC_NUM",
    "INSTANCE_ID",
    "METRIC_ID",
    "METRIC_RUN_DATE",
    "METRIC_COMPLETED_DATE",
    "LATEST_FLAG",
    CASE
      WHEN Dd_Current_Stage = '21'
      AND Previous_Stage    = '20'
      THEN
        (SELECT User_Id FROM Si_Users_T WHERE User_Name = A.Action_Owner
        )
      WHEN Dd_Current_Stage = '20'
      AND Previous_Stage    = '20'
      THEN
        (SELECT User_Id FROM Si_Users_T WHERE User_Name = A.Action_Owner
        )
      WHEN Dd_Current_Stage = '20'
      AND Previous_Stage    = '21'
      THEN
        (SELECT User_Id FROM Si_Users_T WHERE User_Name = A.Action_Reviewer
        )
      WHEN Dd_Current_Stage = '22'
      AND Previous_Stage    = '20'
      THEN
        (SELECT User_Id FROM Si_Users_T WHERE User_Name = A.Action_Owner
        )
      WHEN Dd_Current_Stage = '23'
      AND Previous_Stage    = '20'
      THEN
        (SELECT User_Id FROM Si_Users_T WHERE User_Name = A.Action_Owner
        )
      WHEN Dd_Current_Stage = '23'
      AND Previous_Stage    = '22'
      THEN
        (SELECT User_Id FROM Si_Users_T WHERE User_Name = A.Action_Approver1
        )
      WHEN Dd_Current_Stage = '20'
      AND Previous_Stage    = '22'
      THEN
        (SELECT User_Id
        FROM Si_Users_T
        WHERE User_Name = NVL(A.Action_Approver1,A.Action_Approver2)
        )
      WHEN Dd_Current_Stage = '20'
      AND Previous_Stage    = '23'
      THEN
        (SELECT User_Id
        FROM Si_Users_T
        WHERE User_Name = NVL(A.Action_Approver2,A.Action_Approver1)
        )
      ELSE created_by
    END AS CREATED_BY,
    "CREATION_DATE",
    "PROCESS_FLOW_STATUS",
    "PROCESS_INSTANCE_ID",
    "MULTIROW_GROUP_NAME",
    "ELECTRONICALLY_SIGNED",
    "MULTIROW_REGION_ID",
    "ACTION_DETAILS_HTM",
    DECODE(Dbms_Lob.Getlength(Action_Results_Htm),0,'',NULL,'',Action_Results_Htm)     AS Action_Results_Htm,
    DECODE(Dbms_Lob.Getlength(ACTION_WORK_DONE_HTM),0,'',NULL,'',ACTION_WORK_DONE_HTM) AS ACTION_WORK_DONE_HTM,
	"ISSUE_DETAILS_HTM",
    "C_RTF_1_HTM",
    "C_RTF_2_HTM",
    "ACTION_CATEGORY",
    "CONFIG_FLAG_SETUP",
    Loc.Locale_Id,
    loc.locale_string
  FROM Ms_Ism_Action_V A,
    (SELECT Locale_Id, Locale_String FROM Si_Locales WHERE Enabled_Flag = 'Y'
    ) Loc
 
                                                </pre>
                                            </div>
                                        </div>
                                        <!-- /.modal-content -->
                                    </div>
                                    <!-- /.modal-dialog -->
                                </div>
                                <!-- /.table-wrapper -->
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel-info -->
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /row -->
            </div>
            <!-- /page wrapper -->
        </div>
        <!-- /.wrapper-->

                <!-- jQuery -->
        <script src="../../bower_components/jquery/dist/jquery.min.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

        <!-- Metis Menu Plugin JavaScript -->
        <script src="../../bower_components/metisMenu/dist/metisMenu.min.js"></script>

        <!-- DataTables JavaScript -->
        <script src="../../bower_components/DataTables/media/js/jquery.dataTables.min.js"></script>
        <script src="../../bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="../../dist/js/sb-admin-2.js"></script>

        <!-- Custom JS scripts for search capbility -->
        <script type="text/javascript" src="../../dist/js/searchsidemenujavascript.js"></script>

        <!-- Custom JS scripts for easy scrollbar -->
        <script src="../../dist/js/jquery.mCustomScrollbar.concat.min.js"></script>
        <link rel="stylesheet" href="../../dist/highlight/styles/sunburst.css"/>
        <script src="../../dist/highlight/highlight.pack.js"></script>

        <script>
            $(document).ready(function() {
                
            });
            $('#sciptModal').on('shown.bs.modal', function () {
                $("body").mCustomScrollbar("disable");
            });
            $('#sciptModal').on('hidden.bs.modal', function () {
                $("body").mCustomScrollbar("update");
            });
                        (function($){
                         function scrollBody(){
                        var referrer = document.URL;
                        var res = referrer.split("#");
                        var hashAddress="#"+res[1];
                        $("body").mCustomScrollbar('scrollTo',$("body").find(hashAddress));  
                        };
                $(window).load(function(){
					var urlSet=document.URL.split("pages/");
					localStorage.setItem("UrlStorage", urlSet[1]);
					var scrollAmt=localStorage.getItem("scrollAmount");
              if(localStorage.getItem("EscrollOff")=="true"){
                
                $("body").mCustomScrollbar({
                    theme:"minimal",
                    mouseWheel:{ scrollAmount: scrollAmt }
                });
                scrollBody();  
			  }
            });
             if(localStorage.getItem("EscrollOff")=="true"){
            $(window).on('hashchange', function(e){
                 scrollBody();
            });
			 }
            })(jQuery);
        </script>
    </body>

</html>
