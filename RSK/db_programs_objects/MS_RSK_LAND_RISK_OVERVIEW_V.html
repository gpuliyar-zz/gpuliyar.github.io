<!DOCTYPE html>
<html lang="en">
       <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>DB Programs and Objects</title>

        <!-- Bootstrap Core CSS -->
        <link href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- MetisMenu CSS -->
        <link href="../../bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

        <!-- DataTables CSS -->
        <link href="../../bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet">

        <!-- DataTables Responsive CSS -->
        <link href="../../bower_components/datatables-responsive/css/dataTables.responsive.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="../../dist/css/sb-admin-2.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="../../bower_components/fontawesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../../dist/css/jquery.mCustomScrollbar.css">
        <link href="../../dist/css/style.css" rel="stylesheet">
        <script src="../../js/jquery-1.11.1.min.js"></script>
        <script src="../../dist/js/selectAllJavaScript.js"></script>
        <style>
            html, body{ height: 100%; }
        </style>
    </head>

    <body>
        <div id="wrapper">
            <div id="page-wrapper">
                <div class="row">
                    <br/>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h4><span class="fa fa-table fa-fw"></span>  <a style="text-decoration: none; " id="MS_RSK_LAND_RISK_OVERVIEW_V">MS_RSK_LAND_RISK_OVERVIEW_V</a> </h4>
                            </div>
                            <div class="panel-body">
                                <div class="dataTable_wrapper">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="btn btn-primary" onclick="SelectText('selectme')">Select All</button>
                                            </div>
                                            <div class="modal-body" >
                                                <pre id="selectme">
                                                
  CREATE OR REPLACE FORCE VIEW "NOVT_DEV"."MS_RSK_LAND_RISK_OVERVIEW_V" ("RISK_ID", "RISK_NAME", "VIEW_SUB_RISKS", "ORGANIZATION_ID", "ORGANIZATION_NAME", "ASSESSABLE_ENTITY_ID", "ASSESSABLE_ENTITY_NAME", "RISK_OWNERS", "RISK_LEVEL", "PARENT_RISK", "VIEW_SUB_RISKS_PARENT", "INH_SCORE", "PRIOR_INH_SCORE", "NO_OF_CONTROLS_ASSESSED", "OVERALL_CONTROL_EFFECT", "RESIDUAL_SCORE", "PRIOR_RESIDUAL_SCORE", "RESIDUAL_CHANGE", "RESIDUAL_TREND", "ASSMNT_DUE_DATE", "ASSESSED_ON", "DELAYED_BY", "ASSESSED_BY", "APPROVED_BY", "ASSESSMENT_DETAILS", "FACTOR1_RATING", "FACTOR1_SCORE", "FACTOR2_RATING", "FACTOR2_SCORE", "FACTOR3_RATING", "FACTOR3_SCORE", "FACTOR4_RATING", "FACTOR4_SCORE", "FACTOR5_RATING", "FACTOR5_SCORE", "NO_OF_ISSUES_RAISED", "NO_OF_OPEN_ISSUES", "NO_OF_OVERDUE_ISSUES", "NO_OF_OPEN_RISK_ISSUES", "FACTOR1_REDUCTION", "FACTOR1_SCORE_AFTER_REDUCTION", "FACTOR2_REDUCTION", "FACTOR2_SCORE_AFTER_REDUCTION", "FACTOR3_REDUCTION", "FACTOR3_SCORE_AFTER_REDUCTION", "FACTOR4_REDUCTION", "FACTOR4_SCORE_AFTER_REDUCTION", "FACTOR5_REDUCTION", "FACTOR5_SCORE_AFTER_REDUCTION", "PERSPECTIVE_ID", "MITIGATE_FLAG", "CHILD_RISKS", "IMMEDIATE_CHILD_RISKS", "INHERENT_RATING", "RESIDUAL_RATING", "ASSMNT_ID", "PARENT_RISK_ID", "PARENT_RISK_URL", "IMMEDIATE_PARENT_CHILD_RISKS", "RISK_URL", "SECURITY_OWNER_ORGS", "RESTRICT_ACCESS_TO", "I_RISK_NAME", "I_ASSESSOR_NAME", "I_APPROVER_NAME", "I_ORG_NAME", "I_ASSESSABLE_ENTITY_NAME", "I_RISK_CATEGORIES", "THREAT_OPPORTUNITY", "THREAT_OPPORTUNITY_LEVEL", "THREAT_OPPORTUNITY_RESPONSE", "INH_RANK", "RES_RANK") AS 
  SELECT DISTINCT RISK_ID,
  RISK_NAME,
  'View' AS VIEW_SUB_RISKS,
  ORGANIZATION_ID,
  ORGANIZATION_NAME,
  ASSESSABLE_ENTITY_ID,
  ASSESSABLE_ENTITY_NAME,
  RISK_OWNERS,
  RISK_LEVEL,
  PARENT_RISK,
  'View' AS VIEW_SUB_RISKS_PARENT,
  INH_SCORE,
  PRIOR_INH_SCORE,
  NO_OF_CONTROLS_ASSESSED,
  OVERALL_CONTROL_EFFECT,
  RESIDUAL_SCORE,
  PRIOR_RESIDUAL_SCORE,
  RESIDUAL_CHANGE,
  RESIDUAL_TREND,
  ASSMNT_DUE_DATE,
  ASSESSED_ON,
  DELAYED_BY,
  ASSESSED_BY,
  APPROVED_BY,
  ASSESSMENT_DETAILS,
  FACTOR1_RATING,
  to_number(FACTOR1_SCORE) AS FACTOR1_SCORE,
  FACTOR2_RATING,
  to_number(FACTOR2_SCORE) AS FACTOR2_SCORE,
  FACTOR3_RATING,
  to_number(FACTOR3_SCORE) AS FACTOR3_SCORE,
  FACTOR4_RATING,
  to_number(FACTOR4_SCORE) AS FACTOR4_SCORE,
  FACTOR5_RATING,
  to_number(FACTOR5_SCORE) AS FACTOR5_SCORE,
  NO_OF_ISSUES_RAISED,
  no_of_open_issues,
  no_of_overdue_issues,
  no_of_open_risk_issues,
  FACTOR1_REDUCTION,
  FACTOR1_SCORE_AFTER_REDUCTION,
  FACTOR2_REDUCTION,
  FACTOR2_SCORE_AFTER_REDUCTION,
  FACTOR3_REDUCTION,
  FACTOR3_SCORE_AFTER_REDUCTION,
  FACTOR4_REDUCTION,
  FACTOR4_SCORE_AFTER_REDUCTION,
  FACTOR5_REDUCTION,
  FACTOR5_SCORE_AFTER_REDUCTION,
  PERSPECTIVE,
  MITIGATE_FLAG,
  CHILD_RISKS,
  IMMEDIATE_CHILD_RISKS,
  INHERENT_RATING,
  RESIDUAL_RATING,
  ASSESSMENT_DETAILS_ID AS ASSMNT_ID,
  PARENT_RISK_ID,
  PARENT_RISK_URL,
  IMMEDIATE_PARENT_CHILD_RISKS,
  RISK_URL,
  SECURITY_OWNER_ORGS,
  RESTRICT_ACCESS_TO,
  RISK_NAME AS I_RISK_NAME,
  ASSESSED_BY I_ASSESSOR_NAME,
  APPROVED_BY as I_APPROVER_NAME,
  ORGANIZATION_NAME as I_ORG_NAME,
  ASSESSABLE_ENTITY_NAME as I_ASSESSABLE_ENTITY_NAME,MS_RSK_LND_REPORTING_UTILS.GET_RISK_CATEGORIES(RISK_ID) as I_RISK_CATEGORIES,
   THREAT_OPPORTUNITY,
   THREAT_OPPORTUNITY_LEVEL,
   THREAT_OPPORTUNITY_RESPONSE,
   INH_RANK,
   RES_RANK
--  (SELECT DISPLAYEDVALUE
--FROM MS_RSK_THREAT_OPPORTUNITY
--where name                ='THREAT_OPPORTUNITY_LEVEL'
--and NVL(ENDDATE,sysdate) >=sysdate
--and STOREDVALUE = THREAT_OPPORTUNITY_LEVEL) as THREAT_OPPORTUNITY_LEVEL,
--(select  
-- DisplayedValue
--FROM MS_RSK_THREAT_OPPORTUNITY
--WHERE name                ='THREAT_OPPORTUNITY_RESPONSE'
--and NVL(ENDDATE,sysdate) >=sysdate
--and type                  = THREAT_OPPORTUNITY
--AND storedvalue = THREAT_OPPORTUNITY_RESPONSE) AS THREAT_OPPORTUNITY_RESPONSE
 FROM TABLE(MS_RSK_LND_REPORTING_UTILS.RISK_OVERVIEW_REPORT)
ORDER BY RESIDUAL_SCORE DESC NULLS LAST,RISK_NAME
 
                                                </pre>
                                            </div>
                                        </div>
                                        <!-- /.modal-content -->
                                    </div>
                                    <!-- /.modal-dialog -->
                                </div>
                                <!-- /.table-wrapper -->
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel-info -->
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /row -->
            </div>
            <!-- /page wrapper -->
        </div>
        <!-- /.wrapper-->

                <!-- jQuery -->
        <script src="../../bower_components/jquery/dist/jquery.min.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

        <!-- Metis Menu Plugin JavaScript -->
        <script src="../../bower_components/metisMenu/dist/metisMenu.min.js"></script>

        <!-- DataTables JavaScript -->
        <script src="../../bower_components/DataTables/media/js/jquery.dataTables.min.js"></script>
        <script src="../../bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="../../dist/js/sb-admin-2.js"></script>

        <!-- Custom JS scripts for search capbility -->
        <script type="text/javascript" src="../../dist/js/searchsidemenujavascript.js"></script>

        <!-- Custom JS scripts for easy scrollbar -->
        <script src="../../dist/js/jquery.mCustomScrollbar.concat.min.js"></script>
        <link rel="stylesheet" href="../../dist/highlight/styles/sunburst.css"/>
        <script src="../../dist/highlight/highlight.pack.js"></script>

        <script>
            $(document).ready(function() {
                
            });
            $('#sciptModal').on('shown.bs.modal', function () {
                $("body").mCustomScrollbar("disable");
            });
            $('#sciptModal').on('hidden.bs.modal', function () {
                $("body").mCustomScrollbar("update");
            });
                        (function($){
                         function scrollBody(){
                        var referrer = document.URL;
                        var res = referrer.split("#");
                        var hashAddress="#"+res[1];
                        $("body").mCustomScrollbar('scrollTo',$("body").find(hashAddress));  
                        };
                $(window).load(function(){
					var urlSet=document.URL.split("pages/");
					localStorage.setItem("UrlStorage", urlSet[1]);
					var scrollAmt=localStorage.getItem("scrollAmount");
              if(localStorage.getItem("EscrollOff")=="true"){
                
                $("body").mCustomScrollbar({
                    theme:"minimal",
                    mouseWheel:{ scrollAmount: scrollAmt }
                });
                scrollBody();  
			  }
            });
             if(localStorage.getItem("EscrollOff")=="true"){
            $(window).on('hashchange', function(e){
                 scrollBody();
            });
			 }
            })(jQuery);
        </script>
    </body>

</html>
